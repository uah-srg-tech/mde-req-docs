<?xml version="1.0" encoding="ASCII"?>
<gss:GSSEnvironmentEnvironment xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:gss="http://srg.aut.uah.es/gss/environment" xmlns:tmtcif="http://srg.aut.uah.es/tmtcif/filter" name="epd" uri="es.uah.aut.srg.epd" version="v1">
  <scenario name="scenario1">
    <gss_options>
      <gss_info test_campaign="epd_any_model" version="3.4" date="2019/02/11" version_control_url="http://srg.aut.uah.es/repository/"/>
      <gss_info_print mainLog="enabled" portLogs="enabled" rawLog="enabled"/>
      <phy_header_print mainLog="disabled" portLogs="disabled" rawLog="disabled" gssTabs="disabled"/>
      <discardErrorFlags txErrors="disabled" notExpectedPackets="disabled" filtersKo="disabled" validTimesKo="enabled"/>
    </gss_options>
    <Protocols>
      <Protocol id="0" name="CCSDS" typeLevel="1" typeOffset="7" subtypeOffset="8"/>
    </Protocols>
    <Interfaces>
      <ProtocolPacketsFile href="protocol_packets.xmi#/"/>
      <MainInterface id="0" name="SpW" ifType="uart" ioType="in_out" protocolID="//@scenario.0/@Protocols/@Protocol.0">
        <ifConfig href="../Ifaces/spw_uart_debug.xmi#/"/>
        <LevelInOut id="0" name="CCSDS">
          <TMformat href="../ccsds_solo/tmFormats/CCSDS_TM.xmi#/"/>
          <TCformat href="../ccsds_solo/tcFormats/CCSDS_TC.xmi#/"/>
          <inputFilter xsi:type="tmtcif:TMTCIFFilterMintermFilter" href="../ccsds_solo/filtersLevel0/EPD_CCSDS_TM.xmi#/"/>
        </LevelInOut>
        <LevelInOut id="1" name="EPD-PUS">
          <TMformat href="../ccsds_solo/tmFormats/EPD_PUS_TM.xmi#/"/>
          <TCformat href="../ccsds_solo/tcFormats/EPD_PUS_TC.xmi#/"/>
          <inputFilter xsi:type="tmtcif:TMTCIFFilterMintermFilter" href="../ccsds_solo/filtersLevel1/EPD_PUS_TM.xmi#/"/>
          <export_to_prev_Level href="../ccsds_solo/exportsToLevel0/EPD_PUS_TC_TO_CCSDS_TC.xmi#/"/>
          <import_from_prev_Level href="../ccsds_solo/imports/EPD_PUS_TM_FROM_CCSDS_TM.xmi#/"/>
        </LevelInOut>
      </MainInterface>
      <Interface id="1" name="dummy" ifType="dummy" ioType="in">
        <ifConfig href="../Ifaces/dummy.xmi#/"/>
        <LevelIn id="0" name="dummy">
          <TCformat href="../Ifaces/dummy/DUMMY.xmi#/"/>
        </LevelIn>
      </Interface>
    </Interfaces>
    <SpecialPackets>
      <SpecialPacket status="enabled" name="3.25 SID0" id="0" ifRef="0" levels="3" levelRef="1">
        <inputFilter xsi:type="tmtcif:TMTCIFFilterMintermFilter" href="../ccsds_solo/filtersLevel1/tm_epd_3_25_0_filter_level_1.xmi#/"/>
        <UpperLevels>
          <UpperLevel level="_2">
            <TMformat href="tm_epd_3_25_0_formulas.xmi#/"/>
            <inputFilter xsi:type="tmtcif:TMTCIFFilterMintermFilter" href="../ccsds_solo/filtersLevel2/tm_epd_3_25_0_filter_level_2.xmi#/"/>
            <import_from_prev_Level href="../ccsds_solo/imports/EPD_PUS_DATA_TM_FROM_EPD_PUS_TM.xmi#/"/>
          </UpperLevel>
        </UpperLevels>
        <printingData>
          <structuredData levelRef="2" firstField="1"/>
        </printingData>
        <period min_value="9900" min_unit="miliseconds" max_value="10100" max_unit="miliseconds"/>
      </SpecialPacket>
    </SpecialPackets>
    <PeriodicTCs>
      <PeriodicTC_level_1 name="periodic_test_connection" id="0" ifRef="0" period_value="1500" period_unit="miliseconds">
        <app_to_level1 href="../ccsds_solo/exportsToLevel1/tc_epd_17_1_export_to_level_1_ack.xmi#/"/>
        <level1_to_level0 href="../ccsds_solo/exportsToLevel0/tc_epd_17_1_export_to_level_0.xmi#/"/>
      </PeriodicTC_level_1>
    </PeriodicTCs>
    <GlobalVars>
      <GlobalVar name="sequence_number" id="0" type="uint" initial_value="0">
        <referenceField type="tc" ifRef="0" level="0" fieldRef="11" offset="0" size="0"/>
      </GlobalVar>
      <GlobalVar name="enter_mode" id="1" type="uint" initial_value="0">
        <referenceField type="tm" ifRef="0" level="1" fieldRef="11" offset="0" size="4"/>
      </GlobalVar>
      <GlobalVar name="dummy_field" id="2" type="uint" initial_value="0">
        <referenceField type="tc" ifRef="1" level="0" fieldRef="0" offset="0" size="0"/>
      </GlobalVar>
    </GlobalVars>
    <Monitors>
      <alarmMsg name="DummyMessage1" type="alarm1" text="Off+On ICU">
        <GVFiltered GlobalVarRef="//@scenario.0/@GlobalVars/@GlobalVar.2">
          <filter xsi:type="tmtcif:TMTCIFFilterMintermFilter" href="../Ifaces/dummy/dummy_message_1.xmi#/"/>
        </GVFiltered>
      </alarmMsg>
      <modify name="IncSequenceNumber" type="increment" value="1">
        <GVFiltered GlobalVarRef="//@scenario.0/@GlobalVars/@GlobalVar.0"/>
      </modify>
      <alarmVal name="TransTo" type="alarm1">
        <GVFiltered GlobalVarRef="//@scenario.0/@GlobalVars/@GlobalVar.1">
          <filter xsi:type="tmtcif:TMTCIFFilterMintermFilter" href="tm_epd_5_1_transition_to.xmi#/"/>
        </GVFiltered>
      </alarmVal>
    </Monitors>
  </scenario>
</gss:GSSEnvironmentEnvironment>
